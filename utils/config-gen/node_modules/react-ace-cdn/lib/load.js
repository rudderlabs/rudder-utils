'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = load;
var available = exports.available = function available() {
    return !!window.ace;
};

var _url = 'https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.5/ace.js';
var _onLoad = [];
var _isLoading = false;

function load(cb) {
    if (available()) {
        cb();
        return;
    }

    _onLoad.push(cb);

    if (_isLoading) return;

    _isLoading = true;

    var result = void 0;
    var script = document.createElement('script');
    var container = document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0];

    script.type = 'text/javascript';
    script.src = _url;
    script.async = true;

    script.onload = script.onreadystatechange = function () {
        var ready = !this.readyState || this.readyState == 'complete';
        if (!result && ready) {
            result = true;
            _onLoad.forEach(function (_cb) {
                return _cb();
            });
        }
    };

    container.appendChild(script);
}