{"ast":null,"code":"import _initializerDefineProperty from \"/Users/chandu/dev/rudderlabs/rudder-server/utils/config-gen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _applyDecoratedDescriptor from \"/Users/chandu/dev/rudderlabs/rudder-server/utils/config-gen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"/Users/chandu/dev/rudderlabs/rudder-server/utils/config-gen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";\n\nvar _dec, _class, _descriptor, _descriptor2, _temp;\n\nimport { action, observable } from 'mobx';\nimport { apiCaller } from '@services/apiCaller';\nimport _ from 'lodash';\nexport let DestinationDefsListStore = (_dec = action.bound, (_class = (_temp = class DestinationDefsListStore {\n  constructor(rootStore) {\n    _initializerDefineProperty(this, \"destinationDefs\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"rootStore\", _descriptor2, this);\n\n    this.rootStore = rootStore;\n  }\n\n  async getDestinationDefs() {\n    const res = await apiCaller().get(`/open-destination-definitions`);\n    this.destinationDefs = _.orderBy(res.data, [dest => dest.displayName.toString().toLowerCase()], ['asc']);\n  }\n\n  getDestinationDef(id) {\n    return this.destinationDefs.filter(def => def.id === id)[0];\n  }\n\n}, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"destinationDefs\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return [];\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"rootStore\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class.prototype, \"getDestinationDefs\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"getDestinationDefs\"), _class.prototype)), _class));","map":{"version":3,"sources":["/Users/chandu/dev/rudderlabs/rudder-server/utils/config-gen/src/stores/destinationDefsList.ts"],"names":["action","observable","apiCaller","_","DestinationDefsListStore","bound","constructor","rootStore","getDestinationDefs","res","get","destinationDefs","orderBy","data","dest","displayName","toString","toLowerCase","getDestinationDef","id","filter","def"],"mappings":";;;;;;AAAA,SAASA,MAAT,EAAiBC,UAAjB,QAAmC,MAAnC;AACA,SAASC,SAAT,QAA0B,qBAA1B;AAEA,OAAOC,CAAP,MAAc,QAAd;AAgBA,WAAaC,wBAAb,WAQGJ,MAAM,CAACK,KARV,qBAAO,MAAMD,wBAAN,CAAoE;AAIzEE,EAAAA,WAAW,CAACC,SAAD,EAAwB;AAAA;;AAAA;;AACjC,SAAKA,SAAL,GAAiBA,SAAjB;AACD;;AAED,QACaC,kBADb,GACkC;AAChC,UAAMC,GAAG,GAAG,MAAMP,SAAS,GAAGQ,GAAZ,CAAiB,+BAAjB,CAAlB;AACA,SAAKC,eAAL,GAAuBR,CAAC,CAACS,OAAF,CACrBH,GAAG,CAACI,IADiB,EAErB,CAACC,IAAI,IAAIA,IAAI,CAACC,WAAL,CAAiBC,QAAjB,GAA4BC,WAA5B,EAAT,CAFqB,EAGrB,CAAC,KAAD,CAHqB,CAAvB;AAKD;;AAEMC,EAAAA,iBAAP,CAAyBC,EAAzB,EAAqC;AACnC,WAAO,KAAKR,eAAL,CAAqBS,MAArB,CACJC,GAAD,IAA0BA,GAAG,CAACF,EAAJ,KAAWA,EADhC,EAEL,CAFK,CAAP;AAGD;;AAtBwE,CAA3E,yFACGlB,UADH;AAAA;AAAA;AAAA;AAAA;AAAA,WAC0D,EAD1D;AAAA;AAAA,6EAEGA,UAFH;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { action, observable } from 'mobx';\nimport { apiCaller } from '@services/apiCaller';\nimport { IRootStore } from '.';\nimport _ from 'lodash';\n\nexport interface IDestinationDefsListStore {\n  destinationDefs: IDestinationDef[];\n  rootStore: IRootStore;\n  getDestinationDefs(): void;\n  getDestinationDef(id: string): IDestinationDef;\n}\n\nexport interface IDestinationDef {\n  id: string;\n  name: string;\n  displayName: string;\n  config: any;\n}\n\nexport class DestinationDefsListStore implements IDestinationDefsListStore {\n  @observable public destinationDefs: IDestinationDef[] = [];\n  @observable public rootStore: IRootStore;\n\n  constructor(rootStore: IRootStore) {\n    this.rootStore = rootStore;\n  }\n\n  @action.bound\n  public async getDestinationDefs() {\n    const res = await apiCaller().get(`/open-destination-definitions`);\n    this.destinationDefs = _.orderBy(\n      res.data,\n      [dest => dest.displayName.toString().toLowerCase()],\n      ['asc'],\n    );\n  }\n\n  public getDestinationDef(id: string) {\n    return this.destinationDefs.filter(\n      (def: IDestinationDef) => def.id === id,\n    )[0];\n  }\n}\n"]},"metadata":{},"sourceType":"module"}